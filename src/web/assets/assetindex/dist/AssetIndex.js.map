{"version":3,"file":"AssetIndex.js","mappings":"AAAAA,MAAMC,WAAWC,UAAUC,KAAO,IAAIC,MAAMJ,MAAMC,WAAWC,UAAUC,KAAM,CAC3EE,MAAO,SAAUC,EAAQC,EAASC,GAChCC,QAAQJ,MAAMC,EAAQC,EAASC,GAE/BD,EAAQG,qBAAqBC,SAAS,OACxC,IAGFX,MAAMC,WAAWC,UAAUU,mBAAqB,IAAIR,MAClDJ,MAAMC,WAAWC,UAAUU,mBAC3B,CACEP,MAAO,SAAUC,EAAQC,EAASC,GAAU,IAAAK,EASCC,EAR3CL,QAAQJ,MAAMC,EAAQC,EAASC,GAEV,QAArBK,EAAAN,EAAQQ,qBAAa,IAAAF,GAArBA,EAAuBG,SAGrBT,EAAQU,QAAQC,KAAK,mBACrBlB,MAAMmB,aAAaC,eAEfpB,MAAMmB,aAAaE,mBACA,QAArBP,EAAAP,EAAQe,qBAAa,IAAAR,GAArBA,EAAuBE,UAGzBT,EAAQQ,cAAgBQ,EAAE,YAAa,CACrCC,KAAM,SACNC,MAAO,aACP,YAAa,OACbC,KAAM1B,MAAM2B,EAAE,iBAAkB,eAGlCpB,EAAQG,qBAAqBkB,QAAQrB,EAAQQ,eAE7CR,EAAQQ,cAAcc,GAAG,SAAS,WAChC,IAGMX,EAAO,CACXY,SAHAvB,EAAQwB,WAAWxB,EAAQwB,WAAWC,OAAS,GAGvBF,UAG1BvB,EAAQ0B,eAERjC,MAAMkC,kBACJ,OACA,4CACA,CAAEhB,KAAAA,IAEDiB,MAAK,SAACC,GACL7B,EAAQ8B,oBACRrC,MAAMsC,GAAGC,eACPvC,MAAM2B,EAAE,iBAAkB,mBAE5BpB,EAAQiC,gBACV,IAAE,OACK,SAAAC,GAAkB,IAAfL,EAAQK,EAARL,SACR7B,EAAQ8B,oBACRrC,MAAMsC,GAAGI,aAAaN,EAASlB,KAAKyB,QACtC,GACJ,IAEJ","sources":["webpack:///./AssetIndex.js"],"sourcesContent":["Craft.AssetIndex.prototype.init = new Proxy(Craft.AssetIndex.prototype.init, {\n  apply: function (target, thisArg, argArray) {\n    Reflect.apply(target, thisArg, argArray);\n\n    thisArg.getButtonContainer().addClass(\"flex\");\n  },\n});\n\nCraft.AssetIndex.prototype.createUploadInputs = new Proxy(\n  Craft.AssetIndex.prototype.createUploadInputs,\n  {\n    apply: function (target, thisArg, argArray) {\n      Reflect.apply(target, thisArg, argArray);\n\n      thisArg.$createButton?.remove();\n\n      if (\n        thisArg.$source.data(\"volume-handle\") ===\n        Craft.HostedVideos.volumeHandle\n      ) {\n        if (Craft.HostedVideos.hideUploadButton) {\n          thisArg.$uploadButton?.remove();\n        }\n\n        thisArg.$createButton = $(\"<button/>\", {\n          type: \"button\",\n          class: \"btn submit\",\n          \"data-icon\": \"plus\",\n          text: Craft.t(\"_hosted-videos\", \"New video\"),\n        });\n\n        thisArg.getButtonContainer().prepend(thisArg.$createButton);\n\n        thisArg.$createButton.on(\"click\", () => {\n          const currentFolder =\n            thisArg.sourcePath[thisArg.sourcePath.length - 1];\n\n          const data = {\n            folderId: currentFolder.folderId,\n          };\n\n          thisArg.setIndexBusy();\n\n          Craft.sendActionRequest(\n            \"POST\",\n            \"_hosted-videos/assets/create-hosted-video\",\n            { data },\n          )\n            .then((response) => {\n              thisArg.setIndexAvailable();\n              Craft.cp.displaySuccess(\n                Craft.t(\"_hosted-videos\", \"Video created.\"),\n              );\n              thisArg.updateElements();\n            })\n            .catch(({ response }) => {\n              thisArg.setIndexAvailable();\n              Craft.cp.displayError(response.data.message);\n            });\n        });\n      }\n    },\n  },\n);\n"],"names":["Craft","AssetIndex","prototype","init","Proxy","apply","target","thisArg","argArray","Reflect","getButtonContainer","addClass","createUploadInputs","_thisArg$$createButto","_thisArg$$uploadButto","$createButton","remove","$source","data","HostedVideos","volumeHandle","hideUploadButton","$uploadButton","$","type","class","text","t","prepend","on","folderId","sourcePath","length","setIndexBusy","sendActionRequest","then","response","setIndexAvailable","cp","displaySuccess","updateElements","_ref","displayError","message"],"sourceRoot":""}
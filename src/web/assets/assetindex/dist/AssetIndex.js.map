{"version":3,"file":"AssetIndex.js","mappings":"AAAAA,MAAMC,WAAWC,UAAUC,KAAO,IAAIC,MAAMJ,MAAMC,WAAWC,UAAUC,KAAM,CAC3EE,MAAO,SAAUC,EAAQC,EAASC,GAChCC,QAAQJ,MAAMC,EAAQC,EAASC,GAE/BD,EAAQG,qBAAqBC,SAAS,OACxC,IAGFX,MAAMC,WAAWC,UAAUU,mBAAqB,IAAIR,MAClDJ,MAAMC,WAAWC,UAAUU,mBAC3B,CACEP,MAAO,SAAUC,EAAQC,EAASC,GAAU,IAAAK,EAC1CJ,QAAQJ,MAAMC,EAAQC,EAASC,GAEV,QAArBK,EAAAN,EAAQO,qBAAa,IAAAD,GAArBA,EAAuBE,SAGrBR,EAAQS,QAAQC,KAAK,mBACrBjB,MAAMkB,aAAaC,eAEnBZ,EAAQO,cAAgBM,EAAE,YAAa,CACrCC,KAAM,SACNC,MAAO,aACP,YAAa,OACbC,KAAMvB,MAAMwB,EAAE,iBAAkB,eAGlCjB,EAAQG,qBAAqBe,QAAQlB,EAAQO,eAE7CP,EAAQO,cAAcY,GAAG,SAAS,WAChC,IAGMT,EAAO,CACXU,SAHApB,EAAQqB,WAAWrB,EAAQqB,WAAWC,OAAS,GAGvBF,UAG1BpB,EAAQuB,eAER9B,MAAM+B,kBACJ,OACA,4CACA,CAAEd,KAAAA,IAEDe,MAAK,SAACC,GACL1B,EAAQ2B,oBACRlC,MAAMmC,GAAGC,eACPpC,MAAMwB,EAAE,iBAAkB,mBAE5BjB,EAAQ8B,gBACV,IAAE,OACK,SAAAC,GAAkB,IAAfL,EAAQK,EAARL,SACR1B,EAAQ2B,oBACRlC,MAAMmC,GAAGI,aAAaN,EAAShB,KAAKuB,QACtC,GACJ,IAEJ","sources":["webpack:///./AssetIndex.js"],"sourcesContent":["Craft.AssetIndex.prototype.init = new Proxy(Craft.AssetIndex.prototype.init, {\n  apply: function (target, thisArg, argArray) {\n    Reflect.apply(target, thisArg, argArray);\n\n    thisArg.getButtonContainer().addClass(\"flex\");\n  },\n});\n\nCraft.AssetIndex.prototype.createUploadInputs = new Proxy(\n  Craft.AssetIndex.prototype.createUploadInputs,\n  {\n    apply: function (target, thisArg, argArray) {\n      Reflect.apply(target, thisArg, argArray);\n\n      thisArg.$createButton?.remove();\n\n      if (\n        thisArg.$source.data(\"volume-handle\") ===\n        Craft.HostedVideos.volumeHandle\n      ) {\n        thisArg.$createButton = $(\"<button/>\", {\n          type: \"button\",\n          class: \"btn submit\",\n          \"data-icon\": \"plus\",\n          text: Craft.t(\"_hosted-videos\", \"New video\"),\n        });\n\n        thisArg.getButtonContainer().prepend(thisArg.$createButton);\n\n        thisArg.$createButton.on(\"click\", () => {\n          const currentFolder =\n            thisArg.sourcePath[thisArg.sourcePath.length - 1];\n\n          const data = {\n            folderId: currentFolder.folderId,\n          };\n\n          thisArg.setIndexBusy();\n\n          Craft.sendActionRequest(\n            \"POST\",\n            \"_hosted-videos/assets/create-hosted-video\",\n            { data },\n          )\n            .then((response) => {\n              thisArg.setIndexAvailable();\n              Craft.cp.displaySuccess(\n                Craft.t(\"_hosted-videos\", \"Video created.\"),\n              );\n              thisArg.updateElements();\n            })\n            .catch(({ response }) => {\n              thisArg.setIndexAvailable();\n              Craft.cp.displayError(response.data.message);\n            });\n        });\n      }\n    },\n  },\n);\n"],"names":["Craft","AssetIndex","prototype","init","Proxy","apply","target","thisArg","argArray","Reflect","getButtonContainer","addClass","createUploadInputs","_thisArg$$createButto","$createButton","remove","$source","data","HostedVideos","volumeHandle","$","type","class","text","t","prepend","on","folderId","sourcePath","length","setIndexBusy","sendActionRequest","then","response","setIndexAvailable","cp","displaySuccess","updateElements","_ref","displayError","message"],"sourceRoot":""}